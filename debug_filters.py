#!/usr/bin/env python3
"""
ุงุฎุชุจุงุฑ ุชูุตููู ูุชุทุจูู ุงูููุงุชุฑ
"""

import tkinter as tk
from tkinter import ttk
import sys
import os

# ุฅุถุงูุฉ ูุณุงุฑ ุงููุดุฑูุน
sys.path.append(os.path.dirname(__file__))

def test_filter_debug():
    """ุงุฎุชุจุงุฑ ููุตู ูุขููุฉ ุงูููุชุฑุฉ"""
    print("๐ ุงุฎุชุจุงุฑ ุชูุตููู ูุขููุฉ ุงูููุชุฑุฉ")
    print("=" * 50)
    
    # ูุญุงูู ููุฏูุฑ ุงูุดูุชุงุช ูุน ุจูุงูุงุช ุฃูุซุฑ
    class DetailedMockSheetsManager:
        def get_all_items_raw(self):
            return [
                ["ุฎุดุจ", "ููุงุฏ ุจูุงุก", "25", "P001", "2024-01-10"],
                ["ุณูููุช", "ููุงุฏ ุจูุงุก", "50", "P002", "2024-01-15"],
                ["ูุณุงููุฑ", "ุฃุฏูุงุช", "1000", "P001", "2024-01-20"],
                ["ุทูุงุก ุฃุจูุถ", "ุฏูุงูุงุช", "15", "P003", "2024-01-25"],
                ["ุทูุงุก ุฃุฒุฑู", "ุฏูุงูุงุช", "10", "P003", "2024-01-30"],
            ]
        
        def get_activity_log(self):
            return [
                ["2024-01-10", "ุฅุถุงูุฉ", "ุฎุดุจ", "100", "", "ุฅุถุงูุฉ ูููุดุฑูุน P001"],
                ["2024-01-11", "ุฅุฎุฑุงุฌ", "ุฎุดุจ", "20", "ุฃุญูุฏ", "ุฅุฎุฑุงุฌ ูููุดุฑูุน P001"],
                ["2024-01-12", "ุฅุฎุฑุงุฌ", "ุฎุดุจ", "30", "ูุญูุฏ", "ุฅุฎุฑุงุฌ ูููุดุฑูุน P001"],
                ["2024-01-15", "ุฅุถุงูุฉ", "ุณูููุช", "200", "", "ุฅุถุงูุฉ ูููุดุฑูุน P002"],
                ["2024-01-16", "ุฅุฎุฑุงุฌ", "ุณูููุช", "50", "ุนูู", "ุฅุฎุฑุงุฌ ูููุดุฑูุน P002"],
                ["2024-01-20", "ุฅุถุงูุฉ", "ูุณุงููุฑ", "5000", "", "ุฅุถุงูุฉ ูููุดุฑูุน P001"],
                ["2024-01-21", "ุฅุฎุฑุงุฌ", "ูุณุงููุฑ", "1000", "ุณุงูู", "ุฅุฎุฑุงุฌ ูููุดุฑูุน P001"],
                ["2024-01-25", "ุฅุถุงูุฉ", "ุทูุงุก ุฃุจูุถ", "50", "", "ุฅุถุงูุฉ ูููุดุฑูุน P003"],
                ["2024-01-26", "ุฅุฎุฑุงุฌ", "ุทูุงุก ุฃุจูุถ", "10", "ููุฏ", "ุฅุฎุฑุงุฌ ูููุดุฑูุน P003"],
                ["2024-01-30", "ุฅุถุงูุฉ", "ุทูุงุก ุฃุฒุฑู", "30", "", "ุฅุถุงูุฉ ูููุดุฑูุน P003"],
                ["2024-01-31", "ุฅุฎุฑุงุฌ", "ุทูุงุก ุฃุฒุฑู", "5", "ูุงุตุฑ", "ุฅุฎุฑุงุฌ ูููุดุฑูุน P003"],
            ]
    
    # ุฅูุดุงุก ุงููุงูุฐุฉ
    root = tk.Tk()
    root.title("ุงุฎุชุจุงุฑ ุชูุตููู ููููุงุชุฑ")
    root.geometry("1000x700")
    
    try:
        from gui.reports_window import ReportsAnalysisWindow
        
        # ุฅูุดุงุก ูุฏูุฑ ูููู
        mock_sheets = DetailedMockSheetsManager()
        
        # ุฅูุดุงุก ูุงูุฐุฉ ุงูุชูุงุฑูุฑ
        reports = ReportsAnalysisWindow(root, mock_sheets)
        
        print("\n๐ ุจูุงูุงุช ุงูุงุฎุชุจุงุฑ:")
        print("ุงูุนูุงุตุฑ ุงููุชููุนุฉ:")
        print("- ุฎุดุจ: ุฏุฎูู=100, ุฎุฑูุฌ=50, ูุชุจูู=50")
        print("- ุณูููุช: ุฏุฎูู=200, ุฎุฑูุฌ=50, ูุชุจูู=150")
        print("- ูุณุงููุฑ: ุฏุฎูู=5000, ุฎุฑูุฌ=1000, ูุชุจูู=4000")
        print("- ุทูุงุก ุฃุจูุถ: ุฏุฎูู=50, ุฎุฑูุฌ=10, ูุชุจูู=40")
        print("- ุทูุงุก ุฃุฒุฑู: ุฏุฎูู=30, ุฎุฑูุฌ=5, ูุชุจูู=25")
        
        print("\n๐ฏ ุชุนูููุงุช ุงูุงุฎุชุจุงุฑ:")
        print("1. ุงุจุญุซ ุนู 5 ุนูุงุตุฑ ูู ุงูุฌุฏูู")
        print("2. ุชุญูู ูู ุตุญุฉ ุงูุฃุฑูุงู")
        print("3. ุฌุฑุจ ููุชุฑ ุงูุนูุตุฑ - ุงุฎุชุฑ 'ุฎุดุจ' ูุงุถุบุท ุชุทุจูู")
        print("4. ูุฌุจ ุฃู ุชุธูุฑ ุตู ูุงุญุฏ ููุท")
        print("5. ุฌุฑุจ ููุชุฑ ุงููุดุฑูุน - ุงุฎุชุฑ 'P001'")
        print("6. ูุฌุจ ุฃู ุชุธูุฑ ุงูุฎุดุจ ูุงููุณุงููุฑ ููุท")
        
        print("\n๐ ูุฑุงูุจุฉ ุฑุณุงุฆู ุงููููุณูู:")
        print("- ุงุจุญุซ ุนู ุฑุณุงุฆู 'โ ุฅุถุงูุฉ ุตู'")
        print("- ุงุจุญุซ ุนู '๐ ุชู ุชุญุฏูุซ ุงูุฌุฏูู'")
        print("- ุชุฃูุฏ ูู ุชุทุงุจู ุงูุนุฏุฏ")
        
        root.mainloop()
        
    except Exception as e:
        print(f"โ ุฎุทุฃ: {e}")
        import traceback
        traceback.print_exc()
        root.destroy()

if __name__ == "__main__":
    test_filter_debug()